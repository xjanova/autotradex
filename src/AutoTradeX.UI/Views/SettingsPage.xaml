<UserControl x:Class="AutoTradeX.UI.Views.SettingsPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <UserControl.Resources>
        <!-- Glass Card Style -->
        <Style x:Key="GlassCard" TargetType="Border">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#20FFFFFF" Offset="0"/>
                        <GradientStop Color="#10FFFFFF" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="BorderBrush" Value="#30FFFFFF"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="16"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="20" ShadowDepth="0" Opacity="0.3" Color="#000000"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Input Style -->
        <Style x:Key="ApiInput" TargetType="TextBox">
            <Setter Property="Background" Value="#15FFFFFF"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#30FFFFFF"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="CaretBrush" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="10">
                            <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Password Box Style -->
        <Style x:Key="ApiPasswordBox" TargetType="PasswordBox">
            <Setter Property="Background" Value="#15FFFFFF"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#30FFFFFF"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="CaretBrush" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="10">
                            <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Dark ComboBox Style -->
        <Style x:Key="DarkComboBox" TargetType="ComboBox">
            <Setter Property="Background" Value="#1A1A2E"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#40FFFFFF"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <Border x:Name="border" Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="10">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="30"/>
                                    </Grid.ColumnDefinitions>
                                    <ContentPresenter Grid.Column="0"
                                                     Content="{TemplateBinding SelectionBoxItem}"
                                                     ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                                     VerticalAlignment="Center"
                                                     Margin="10,0,0,0"/>
                                    <Path Grid.Column="1"
                                          Data="M0,0 L4,4 L8,0"
                                          Stroke="#80FFFFFF"
                                          StrokeThickness="1.5"
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center"/>
                                    <ToggleButton Grid.ColumnSpan="2"
                                                 IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                                 Background="Transparent"
                                                 BorderThickness="0"
                                                 Focusable="False"
                                                 ClickMode="Press"/>
                                </Grid>
                            </Border>
                            <Popup x:Name="PART_Popup"
                                   IsOpen="{TemplateBinding IsDropDownOpen}"
                                   Placement="Bottom"
                                   AllowsTransparency="True"
                                   PopupAnimation="Slide">
                                <Border Background="#1A1A2E"
                                        BorderBrush="#40FFFFFF"
                                        BorderThickness="1"
                                        CornerRadius="10"
                                        Margin="0,4,0,0">
                                    <Border.Effect>
                                        <DropShadowEffect BlurRadius="15" ShadowDepth="3" Opacity="0.5" Color="#000000"/>
                                    </Border.Effect>
                                    <ScrollViewer MaxHeight="200" VerticalScrollBarVisibility="Auto">
                                        <ItemsPresenter/>
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#7C3AED"/>
                                <Setter TargetName="border" Property="Background" Value="#252540"/>
                            </Trigger>
                            <Trigger Property="IsDropDownOpen" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#00D4FF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="ItemContainerStyle">
                <Setter.Value>
                    <Style TargetType="ComboBoxItem">
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="Padding" Value="12,10"/>
                        <Setter Property="Cursor" Value="Hand"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="ComboBoxItem">
                                    <Border x:Name="border" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
                                        <ContentPresenter/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="border" Property="Background" Value="#2A2A45"/>
                                        </Trigger>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter TargetName="border" Property="Background" Value="#353555"/>
                                            <Setter Property="Foreground" Value="#00D4FF"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Save Button -->
        <Style x:Key="SaveButton" TargetType="Button">
            <Setter Property="Foreground" Value="#FFFFFF"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" CornerRadius="10" Padding="25,12">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#10B981" Offset="0"/>
                                    <GradientStop Color="#059669" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#34D399" Offset="0"/>
                                            <GradientStop Color="#10B981" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Test Button -->
        <Style x:Key="TestButton" TargetType="Button">
            <Setter Property="Foreground" Value="#FFFFFF"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" CornerRadius="8" Padding="15,8">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#7C3AED" Offset="0"/>
                                    <GradientStop Color="#2563EB" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Exchange Card Style -->
        <Style x:Key="ExchangeCard" TargetType="Border">
            <Setter Property="Background" Value="#10FFFFFF"/>
            <Setter Property="BorderBrush" Value="#20FFFFFF"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>

        <!-- Premium ScrollBar Thumb Style -->
        <Style x:Key="PremiumScrollBarThumb" TargetType="Thumb">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Thumb">
                        <Grid>
                            <Border x:Name="glowBorder" CornerRadius="5" MinHeight="40" Opacity="0">
                                <Border.Background>
                                    <RadialGradientBrush>
                                        <GradientStop Color="#508B5CF6" Offset="0"/>
                                        <GradientStop Color="#00000000" Offset="1"/>
                                    </RadialGradientBrush>
                                </Border.Background>
                            </Border>
                            <Border x:Name="thumb" CornerRadius="5" MinHeight="40" Width="8" HorizontalAlignment="Center">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                        <GradientStop Color="#8B5CF6" Offset="0"/>
                                        <GradientStop Color="#7C3AED" Offset="0.3"/>
                                        <GradientStop Color="#6D28D9" Offset="0.7"/>
                                        <GradientStop Color="#8B5CF6" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <Border.Effect>
                                    <DropShadowEffect BlurRadius="8" ShadowDepth="0" Opacity="0.6" Color="#7C3AED"/>
                                </Border.Effect>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="thumb" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Color="#A78BFA" Offset="0"/>
                                            <GradientStop Color="#8B5CF6" Offset="0.3"/>
                                            <GradientStop Color="#7C3AED" Offset="0.7"/>
                                            <GradientStop Color="#A78BFA" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="thumb" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect BlurRadius="12" ShadowDepth="0" Opacity="0.8" Color="#8B5CF6"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="glowBorder" Property="Opacity" Value="0.5"/>
                            </Trigger>
                            <Trigger Property="IsDragging" Value="True">
                                <Setter TargetName="thumb" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Color="#C4B5FD" Offset="0"/>
                                            <GradientStop Color="#A78BFA" Offset="0.3"/>
                                            <GradientStop Color="#8B5CF6" Offset="0.7"/>
                                            <GradientStop Color="#C4B5FD" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="thumb" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect BlurRadius="16" ShadowDepth="0" Opacity="1" Color="#A78BFA"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="glowBorder" Property="Opacity" Value="0.8"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Premium ScrollBar Style -->
        <Style x:Key="PremiumScrollBar" TargetType="ScrollBar">
            <Setter Property="Width" Value="10"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Grid x:Name="Root" Width="10" Margin="2,4,6,4">
                            <Border Background="#15FFFFFF" CornerRadius="5" Width="8" HorizontalAlignment="Center"/>
                            <Track x:Name="PART_Track" IsDirectionReversed="True" Width="10">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="ScrollBar.PageUpCommand">
                                        <RepeatButton.Template>
                                            <ControlTemplate TargetType="RepeatButton">
                                                <Border Background="Transparent"/>
                                            </ControlTemplate>
                                        </RepeatButton.Template>
                                    </RepeatButton>
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="ScrollBar.PageDownCommand">
                                        <RepeatButton.Template>
                                            <ControlTemplate TargetType="RepeatButton">
                                                <Border Background="Transparent"/>
                                            </ControlTemplate>
                                        </RepeatButton.Template>
                                    </RepeatButton>
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb Style="{StaticResource PremiumScrollBarThumb}" Width="8"/>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Premium ScrollViewer Style -->
        <Style x:Key="PremiumScrollViewer" TargetType="ScrollViewer">
            <Setter Property="CanContentScroll" Value="False"/>
            <Setter Property="HorizontalScrollBarVisibility" Value="Disabled"/>
            <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollViewer">
                        <Grid Background="{TemplateBinding Background}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <ScrollContentPresenter x:Name="PART_ScrollContentPresenter"
                                                    Grid.Column="0"
                                                    CanContentScroll="False"
                                                    ContentTemplate="{TemplateBinding ContentTemplate}"
                                                    Content="{TemplateBinding Content}"
                                                    Margin="{TemplateBinding Padding}"/>
                            <ScrollBar x:Name="PART_VerticalScrollBar"
                                       Grid.Column="1"
                                       Orientation="Vertical"
                                       Style="{StaticResource PremiumScrollBar}"
                                       Minimum="0"
                                       Maximum="{TemplateBinding ScrollableHeight}"
                                       Value="{TemplateBinding VerticalOffset}"
                                       ViewportSize="{TemplateBinding ViewportHeight}"
                                       Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <ScrollViewer Style="{StaticResource PremiumScrollViewer}">
        <Grid Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Grid.ColumnSpan="2" Margin="0,0,0,25">
                <TextBlock Text="Settings" FontSize="28" FontWeight="Bold" Foreground="White"/>
                <TextBlock Text="Configure your exchange API keys and trading preferences"
                          FontSize="14" Foreground="#60FFFFFF" Margin="0,5,0,0"/>
            </StackPanel>

            <!-- Left Column - Exchanges -->
            <StackPanel Grid.Row="1" Grid.Column="0" Margin="0,0,15,0">
                <!-- Binance -->
                <Border Style="{StaticResource ExchangeCard}">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                            <Border Width="40" Height="40" CornerRadius="10" Background="#F3BA2F" Margin="0,0,12,0">
                                <TextBlock Text="B" FontSize="22" FontWeight="Black" Foreground="Black"
                                          HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="Binance" FontSize="16" FontWeight="Bold" Foreground="White"/>
                                <TextBlock Text="World's largest exchange" FontSize="11" Foreground="#60FFFFFF"/>
                            </StackPanel>
                            <Border Background="#2010B981" CornerRadius="6" Padding="8,4" Margin="15,0,0,0" VerticalAlignment="Center">
                                <TextBlock x:Name="BinanceStatus" Text="Not Connected" FontSize="10" FontWeight="SemiBold" Foreground="#60FFFFFF"/>
                            </Border>
                        </StackPanel>

                        <TextBlock Text="API Key" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <TextBox x:Name="BinanceApiKey" Style="{StaticResource ApiInput}" Margin="0,0,0,10"/>

                        <TextBlock Text="API Secret" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <PasswordBox x:Name="BinanceApiSecret" Style="{StaticResource ApiPasswordBox}" Margin="0,0,0,15"/>

                        <Button Content="Test Connection" Style="{StaticResource TestButton}"
                                HorizontalAlignment="Left" Click="TestBinance_Click"/>
                    </StackPanel>
                </Border>

                <!-- KuCoin -->
                <Border Style="{StaticResource ExchangeCard}">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                            <Border Width="40" Height="40" CornerRadius="10" Background="#23AF91" Margin="0,0,12,0">
                                <TextBlock Text="K" FontSize="22" FontWeight="Black" Foreground="White"
                                          HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="KuCoin" FontSize="16" FontWeight="Bold" Foreground="White"/>
                                <TextBlock Text="The People's Exchange" FontSize="11" Foreground="#60FFFFFF"/>
                            </StackPanel>
                            <Border Background="#2010B981" CornerRadius="6" Padding="8,4" Margin="15,0,0,0" VerticalAlignment="Center">
                                <TextBlock x:Name="KuCoinStatus" Text="Not Connected" FontSize="10" FontWeight="SemiBold" Foreground="#60FFFFFF"/>
                            </Border>
                        </StackPanel>

                        <TextBlock Text="API Key" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <TextBox x:Name="KuCoinApiKey" Style="{StaticResource ApiInput}" Margin="0,0,0,10"/>

                        <TextBlock Text="API Secret" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <PasswordBox x:Name="KuCoinApiSecret" Style="{StaticResource ApiPasswordBox}" Margin="0,0,0,10"/>

                        <TextBlock Text="Passphrase" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <PasswordBox x:Name="KuCoinPassphrase" Style="{StaticResource ApiPasswordBox}" Margin="0,0,0,15"/>

                        <Button Content="Test Connection" Style="{StaticResource TestButton}"
                                HorizontalAlignment="Left" Click="TestKuCoin_Click"/>
                    </StackPanel>
                </Border>

                <!-- Bitkub -->
                <Border Style="{StaticResource ExchangeCard}">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                            <Border Width="40" Height="40" CornerRadius="10" Background="#00B14F" Margin="0,0,12,0">
                                <TextBlock Text="à¸¿" FontSize="22" FontWeight="Black" Foreground="White"
                                          HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="Bitkub" FontSize="16" FontWeight="Bold" Foreground="White"/>
                                <TextBlock Text="Thailand's #1 Exchange" FontSize="11" Foreground="#60FFFFFF"/>
                            </StackPanel>
                            <Border Background="#2010B981" CornerRadius="6" Padding="8,4" Margin="15,0,0,0" VerticalAlignment="Center">
                                <TextBlock x:Name="BitkubStatus" Text="Not Connected" FontSize="10" FontWeight="SemiBold" Foreground="#60FFFFFF"/>
                            </Border>
                        </StackPanel>

                        <TextBlock Text="API Key" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <TextBox x:Name="BitkubApiKey" Style="{StaticResource ApiInput}" Margin="0,0,0,10"/>

                        <TextBlock Text="API Secret" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <PasswordBox x:Name="BitkubApiSecret" Style="{StaticResource ApiPasswordBox}" Margin="0,0,0,15"/>

                        <Button Content="Test Connection" Style="{StaticResource TestButton}"
                                HorizontalAlignment="Left" Click="TestBitkub_Click"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Right Column - More Exchanges & Settings -->
            <StackPanel Grid.Row="1" Grid.Column="1" Margin="15,0,0,0">
                <!-- OKX -->
                <Border Style="{StaticResource ExchangeCard}">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                            <Border Width="40" Height="40" CornerRadius="10" Background="#FFFFFF" Margin="0,0,12,0">
                                <TextBlock Text="OK" FontSize="14" FontWeight="Black" Foreground="Black"
                                          HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="OKX" FontSize="16" FontWeight="Bold" Foreground="White"/>
                                <TextBlock Text="Trade Smarter" FontSize="11" Foreground="#60FFFFFF"/>
                            </StackPanel>
                            <Border Background="#2010B981" CornerRadius="6" Padding="8,4" Margin="15,0,0,0" VerticalAlignment="Center">
                                <TextBlock x:Name="OKXStatus" Text="Not Connected" FontSize="10" FontWeight="SemiBold" Foreground="#60FFFFFF"/>
                            </Border>
                        </StackPanel>

                        <TextBlock Text="API Key" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <TextBox x:Name="OKXApiKey" Style="{StaticResource ApiInput}" Margin="0,0,0,10"/>

                        <TextBlock Text="API Secret" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <PasswordBox x:Name="OKXApiSecret" Style="{StaticResource ApiPasswordBox}" Margin="0,0,0,10"/>

                        <TextBlock Text="Passphrase" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <PasswordBox x:Name="OKXPassphrase" Style="{StaticResource ApiPasswordBox}" Margin="0,0,0,15"/>

                        <Button Content="Test Connection" Style="{StaticResource TestButton}"
                                HorizontalAlignment="Left" Click="TestOKX_Click"/>
                    </StackPanel>
                </Border>

                <!-- Bybit -->
                <Border Style="{StaticResource ExchangeCard}">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                            <Border Width="40" Height="40" CornerRadius="10" Background="#F7A600" Margin="0,0,12,0">
                                <TextBlock Text="BY" FontSize="14" FontWeight="Black" Foreground="Black"
                                          HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="Bybit" FontSize="16" FontWeight="Bold" Foreground="White"/>
                                <TextBlock Text="Crypto Derivatives" FontSize="11" Foreground="#60FFFFFF"/>
                            </StackPanel>
                            <Border Background="#2010B981" CornerRadius="6" Padding="8,4" Margin="15,0,0,0" VerticalAlignment="Center">
                                <TextBlock x:Name="BybitStatus" Text="Not Connected" FontSize="10" FontWeight="SemiBold" Foreground="#60FFFFFF"/>
                            </Border>
                        </StackPanel>

                        <TextBlock Text="API Key" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <TextBox x:Name="BybitApiKey" Style="{StaticResource ApiInput}" Margin="0,0,0,10"/>

                        <TextBlock Text="API Secret" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <PasswordBox x:Name="BybitApiSecret" Style="{StaticResource ApiPasswordBox}" Margin="0,0,0,15"/>

                        <Button Content="Test Connection" Style="{StaticResource TestButton}"
                                HorizontalAlignment="Left" Click="TestBybit_Click"/>
                    </StackPanel>
                </Border>

                <!-- Gate.io -->
                <Border Style="{StaticResource ExchangeCard}">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                            <Border Width="40" Height="40" CornerRadius="10" Background="#17E6A1" Margin="0,0,12,0">
                                <TextBlock Text="G" FontSize="22" FontWeight="Black" Foreground="Black"
                                          HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="Gate.io" FontSize="16" FontWeight="Bold" Foreground="White"/>
                                <TextBlock Text="Your Gateway to Crypto" FontSize="11" Foreground="#60FFFFFF"/>
                            </StackPanel>
                            <Border Background="#2010B981" CornerRadius="6" Padding="8,4" Margin="15,0,0,0" VerticalAlignment="Center">
                                <TextBlock x:Name="GateIOStatus" Text="Not Connected" FontSize="10" FontWeight="SemiBold" Foreground="#60FFFFFF"/>
                            </Border>
                        </StackPanel>

                        <TextBlock Text="API Key" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <TextBox x:Name="GateIOApiKey" Style="{StaticResource ApiInput}" Margin="0,0,0,10"/>

                        <TextBlock Text="API Secret" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <PasswordBox x:Name="GateIOApiSecret" Style="{StaticResource ApiPasswordBox}" Margin="0,0,0,15"/>

                        <Button Content="Test Connection" Style="{StaticResource TestButton}"
                                HorizontalAlignment="Left" Click="TestGateIO_Click"/>
                    </StackPanel>
                </Border>

                <!-- Demo Mode Settings -->
                <Border Style="{StaticResource GlassCard}">
                    <StackPanel>
                        <TextBlock Text="DEMO MODE SETTINGS" FontSize="11" FontWeight="Bold" Foreground="#60FFFFFF" Margin="0,0,0,15"/>

                        <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                            <CheckBox x:Name="DemoModeEnabled" IsChecked="True" VerticalAlignment="Center"/>
                            <TextBlock Text="Enable Demo Trading Mode" Foreground="White" FontWeight="SemiBold" Margin="10,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>

                        <TextBlock Text="Starting Balance (USD)" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                        <TextBox x:Name="DemoBalance" Style="{StaticResource ApiInput}" Text="10000" Margin="0,0,0,15"/>

                        <Button x:Name="ResetDemoButton" Content="Reset Demo Wallet" Style="{StaticResource TestButton}"
                                HorizontalAlignment="Left" Click="ResetDemo_Click"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Trading Settings Section -->
            <Border Style="{StaticResource GlassCard}" Grid.Row="2" Grid.Column="0" Margin="0,15,15,0">
                <StackPanel>
                    <TextBlock Text="TRADING SETTINGS" FontSize="11" FontWeight="Bold" Foreground="#60FFFFFF" Margin="0,0,0,15"/>

                    <!-- Minimum Spread -->
                    <TextBlock Text="Minimum Spread (%)" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="60"/>
                        </Grid.ColumnDefinitions>
                        <Slider x:Name="MinSpreadSlider" Minimum="0.1" Maximum="5" Value="0.5"
                               VerticalAlignment="Center" Margin="0,0,10,0"
                               ValueChanged="MinSpreadSlider_ValueChanged"/>
                        <TextBox x:Name="MinSpreadText" Grid.Column="1" Style="{StaticResource ApiInput}"
                                Text="0.50%" TextAlignment="Center" IsReadOnly="True"/>
                    </Grid>

                    <!-- Trade Amount -->
                    <TextBlock Text="Default Trade Amount (USD)" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                    <TextBox x:Name="DefaultTradeAmount" Style="{StaticResource ApiInput}" Text="100" Margin="0,0,0,15"/>

                    <!-- Max Open Trades -->
                    <TextBlock Text="Max Open Trades" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="60"/>
                        </Grid.ColumnDefinitions>
                        <Slider x:Name="MaxTradesSlider" Minimum="1" Maximum="10" Value="3"
                               VerticalAlignment="Center" Margin="0,0,10,0"
                               ValueChanged="MaxTradesSlider_ValueChanged"/>
                        <TextBox x:Name="MaxTradesText" Grid.Column="1" Style="{StaticResource ApiInput}"
                                Text="3" TextAlignment="Center" IsReadOnly="True"/>
                    </Grid>

                    <!-- Auto Execute -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <CheckBox x:Name="AutoExecuteEnabled" IsChecked="False" VerticalAlignment="Center"/>
                        <TextBlock Text="Auto-execute profitable trades" Foreground="White" FontWeight="SemiBold" Margin="10,0,0,0" VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- Price Slippage -->
                    <TextBlock Text="Max Price Slippage (%)" FontSize="11" Foreground="#80FFFFFF" Margin="0,10,0,5"/>
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="60"/>
                        </Grid.ColumnDefinitions>
                        <Slider x:Name="SlippageSlider" Minimum="0.01" Maximum="1" Value="0.1"
                               VerticalAlignment="Center" Margin="0,0,10,0"
                               ValueChanged="SlippageSlider_ValueChanged"/>
                        <TextBox x:Name="SlippageText" Grid.Column="1" Style="{StaticResource ApiInput}"
                                Text="0.10%" TextAlignment="Center" IsReadOnly="True"/>
                    </Grid>

                    <!-- Order Type -->
                    <TextBlock Text="Default Order Type" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                    <ComboBox x:Name="OrderTypeCombo" Style="{StaticResource DarkComboBox}" Margin="0,0,0,10">
                        <ComboBoxItem Content="Market Order" IsSelected="True"/>
                        <ComboBoxItem Content="Limit Order"/>
                    </ComboBox>
                </StackPanel>
            </Border>

            <!-- Risk Management Section -->
            <Border Style="{StaticResource GlassCard}" Grid.Row="2" Grid.Column="1" Margin="15,15,0,0">
                <StackPanel>
                    <TextBlock Text="RISK MANAGEMENT" FontSize="11" FontWeight="Bold" Foreground="#60FFFFFF" Margin="0,0,0,15"/>

                    <!-- Daily Loss Limit -->
                    <TextBlock Text="Daily Loss Limit (USD)" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                    <TextBox x:Name="DailyLossLimit" Style="{StaticResource ApiInput}" Text="500" Margin="0,0,0,15"/>

                    <!-- Max Drawdown -->
                    <TextBlock Text="Max Drawdown (%)" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="60"/>
                        </Grid.ColumnDefinitions>
                        <Slider x:Name="DrawdownSlider" Minimum="1" Maximum="30" Value="10"
                               VerticalAlignment="Center" Margin="0,0,10,0"
                               ValueChanged="DrawdownSlider_ValueChanged"/>
                        <TextBox x:Name="DrawdownText" Grid.Column="1" Style="{StaticResource ApiInput}"
                                Text="10%" TextAlignment="Center" IsReadOnly="True"/>
                    </Grid>

                    <!-- Stop Loss -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <CheckBox x:Name="StopLossEnabled" IsChecked="True" VerticalAlignment="Center"/>
                        <TextBlock Text="Enable Auto Stop-Loss" Foreground="White" FontWeight="SemiBold" Margin="10,0,0,0" VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- Emergency Stop -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                        <CheckBox x:Name="EmergencyStopEnabled" IsChecked="True" VerticalAlignment="Center"/>
                        <TextBlock Text="Enable Emergency Stop Protection" Foreground="White" FontWeight="SemiBold" Margin="10,0,0,0" VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- Balance Threshold -->
                    <TextBlock Text="Minimum Balance Threshold (USD)" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                    <TextBox x:Name="MinBalanceThreshold" Style="{StaticResource ApiInput}" Text="100" Margin="0,0,0,15"/>

                    <!-- Cool Down Period -->
                    <TextBlock Text="Trade Cooldown (seconds)" FontSize="11" Foreground="#80FFFFFF" Margin="0,0,0,5"/>
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="60"/>
                        </Grid.ColumnDefinitions>
                        <Slider x:Name="CooldownSlider" Minimum="0" Maximum="60" Value="5"
                               VerticalAlignment="Center" Margin="0,0,10,0"
                               ValueChanged="CooldownSlider_ValueChanged"/>
                        <TextBox x:Name="CooldownText" Grid.Column="1" Style="{StaticResource ApiInput}"
                                Text="5s" TextAlignment="Center" IsReadOnly="True"/>
                    </Grid>

                    <!-- Notifications -->
                    <TextBlock Text="NOTIFICATIONS" FontSize="11" FontWeight="Bold" Foreground="#60FFFFFF" Margin="0,15,0,10"/>

                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <CheckBox x:Name="NotifyOnTrade" IsChecked="True" VerticalAlignment="Center"/>
                        <TextBlock Text="Notify on successful trade" Foreground="White" Margin="10,0,0,0" VerticalAlignment="Center"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <CheckBox x:Name="NotifyOnOpportunity" IsChecked="True" VerticalAlignment="Center"/>
                        <TextBlock Text="Notify on high-spread opportunity" Foreground="White" Margin="10,0,0,0" VerticalAlignment="Center"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <CheckBox x:Name="NotifyOnError" IsChecked="True" VerticalAlignment="Center"/>
                        <TextBlock Text="Notify on errors" Foreground="White" Margin="10,0,0,0" VerticalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Save Button -->
            <StackPanel Grid.Row="3" Grid.ColumnSpan="2" HorizontalAlignment="Right"
                       Orientation="Horizontal" Margin="0,20,0,20">
                <TextBlock x:Name="SaveStatus" Text="" Foreground="#10B981" VerticalAlignment="Center" Margin="0,0,15,0"/>
                <Button Content="Save All Settings" Style="{StaticResource SaveButton}" Click="SaveSettings_Click"/>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</UserControl>
